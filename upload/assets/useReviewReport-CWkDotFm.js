import{u as l}from "./useMutation-iBKtBQ4J.js";import{r as f}from "./reviewAPI-zRekXALF.js";import{a as T}from "./chunk-D4RADZKF-DdSvw7tX.js";import{S as s}from "./sweetalert2.esm.all-9Qm2jZ7z.js";/* empty css                         */import{u as R}from "./useTranslation-DnilsLqi.js";var O=(o=>(o.POLITICS="POLITICS",o.HATE="HATE",o.DEFAMATION="DEFAMATION",o.PROFANITY="PROFANITY",o))(O||{});function S(o){const{t}=R(),[u,i]=T.useState(""),c={POLITICS:t("reportReasons.POLITICS"),HATE:t("reportReasons.HATE"),DEFAMATION:t("reportReasons.DEFAMATION"),PROFANITY:t("reportReasons.PROFANITY")},r=l({mutationFn:()=>(s.fire({title:t("submittingReport"),allowOutsideClick:!1,allowEscapeKey:!1,didOpen:()=>{s.showLoading()},customClass:{popup:"custom-popup",title:"custom-title",actions:"custom-actions",confirmButton:"custom-confirm-button"}}),f(o,{reviewId:o,reason:u})),onSuccess:()=>{s.fire({title:t("submittingReportSuccess"),icon:"success",confirmButtonText:t("confirmOKButtonText"),customClass:{popup:"custom-popup",title:"custom-title",actions:"custom-actions",confirmButton:"custom-confirm-button"}})},onError:()=>{s.fire({title:t("submittingReportFail"),icon:"warning",confirmButtonText:t("confirmOKButtonText"),customClass:{popup:"custom-popup",title:"custom-title",actions:"custom-actions",confirmButton:"custom-confirm-button"}})}});return{openReportModal:async()=>{const a=Object.entries(c).reduce((e, [p,m])=>(e[p]=m,e),{}),{value:n}=await s.fire({title:t("selectReportReason"),input:"radio",inputOptions:a,inputValidator: e=>e?null:t("selectReportReasonConfirm"),showCancelButton:!0,confirmButtonText:t("submittingReportButton"),cancelButtonText:t("cancelButtonText"),customClass:{popup:"custom-popup",title:"custom-title",actions:"custom-actions",confirmButton:"custom-confirm-button",cancelButton:"custom-cancel-button"},buttonsStyling:!1});n&&(i(n),r.mutate())}}}export{O as R,S as u};
