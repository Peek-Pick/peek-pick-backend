import{a as d,p as b}from "./chunk-D4RADZKF-DdSvw7tX.js";import{j as e}from "./jsx-runtime-D_zvdyIk.js";import{I as x}from "./iconify-uWM87A7v.js";import{P as j,a as g}from "./productLoading-CtBxAkDp.js";function y({products:o,fetchNextPage:n,hasNextPage:a,isFetchingNextPage:c,isLoading:m,isError:f,onItemClick:p,isRanking:s=!1}){const i=d.useRef(null);b();const r=s?o.slice(0,100):o;return d.useEffect(()=>{const t=i.current;if(!t)return;const l=new IntersectionObserver(u=>{const h=s?r.length<100:!0;u[0].isIntersecting&&a&&!c&&h&&n()});return l.observe(t),()=>l.disconnect()},[n,a,c,r.length,s]),m?e.jsx(j,{}):f?e.jsx("p",{className:"p-4 text-center text-red-500 text-base sm:text-lg",children:"Failed to load product information."}):r.length===0?e.jsx("p",{className:"p-4 text-center text-gray-500",children:"No products available."}):e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-4",children:[r.map((t, l)=>e.jsxs("div",{className:`relative p-[16px] bg-white border border-[#FBFBFB]\r
                        shadow-[0px_5px_22px_rgba(0,0,0,0.04)] rounded-[16px]\r
                        transition-shadow duration-300 hover:shadow-[0px_21px_44px_rgba(0,0,0,0.08)]\r
                        cursor-pointer`,onClick:()=>p(t.barcode),children:[s&&t.rank&&e.jsx("div",{className:"absolute top-2 left-2 w-6 h-6 flex items-center justify-center rounded-full bg-[#ff5e5e] text-white text-xs font-bold z-10",children:t.rank}),e.jsx("figure",{className:"bg-[#F9F9F9] rounded-[12px] p-2 mb-4 overflow-hidden",children:e.jsx("div",{className:"relative w-full",style:{paddingBottom:"100%"},children:t.imgThumbUrl&&e.jsx("img",{src:`https://myapp.peek-pick.click${t.imgThumbUrl}`,alt:t.name,className:"absolute top-0 left-0 w-full h-full object-contain object-center"})})}),e.jsx("h3",{className:"text-[14px] leading-[25px] font-semibold text-[#333] mb-1",children:t.name}),e.jsxs("div",{className:"flex items-center text-[13px] text-[#222] mb-1 space-x-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(x,{icon:"ri:heart-fill",className:"w-4 h-4 text-red-500 mr-1"}),t.likeCount??0]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(x,{icon:"ri:star-fill",className:"w-4 h-4 text-[#FFC43F] mr-1"}),t.score.toFixed(1)??0," (",t.reviewCount??0,")"]})]}),t.category&&e.jsx("span",{className:"text-[13px] text-[#9D9D9D] uppercase",children:t.category})]},`${t.barcode}-${l}`)),a&&e.jsx("div",{ref:i,className:"col-span-full h-1"}),s&&r.length>=100&&e.jsx("p",{className:"col-span-full text-center py-2 text-sm text-gray-400",children:"This is the last product."}),c&&e.jsx("div",{className:"col-span-full flex justify-center",children:e.jsx(g,{})})]})}export{y as L};
