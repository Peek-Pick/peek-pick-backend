import{p as i,a as n}from "./chunk-D4RADZKF-DdSvw7tX.js";import{i as f}from "./axiosInstance-CCaw23o5.js";const p="https://myapp.peek-pick.click/api/v1/tags";async function T(){return(await f.get(`${p}`)).data}function m(){const s=i(),[r,o]=n.useState([]),[a,u]=n.useState(!0);return n.useEffect(()=>{T().then(o).catch(()=>{alert("Missing tags"),s("/signup")}).finally(()=>u(!1))},[]),{allTags:r,loading:a}}function h(s=[]){const[r,o]=n.useState(s),{allTags:a,loading:u}=m();n.useEffect(()=>{o(s)},[s]);const c= t=>{o(e=>e.includes(t)?e.filter(l=>l!==t):[...e,t])},g=n.useMemo(()=>a?a.reduce((t, e)=>(t[e.category]||(t[e.category]=[]),t[e.category].push(e),t),{}):{},[a]);return{selectedTags:r,toggleTag:c,setSelectedTags:o,groupedTags:g,loading:u,allTags:a}}export{h as u};
