import{w as g}from "./with-props-JNWkkrjn.js";import{a as l}from "./chunk-D4RADZKF-DdSvw7tX.js";import{j as e}from "./jsx-runtime-D_zvdyIk.js";import{C as u}from "./points-A4FasJQU.js";import{u as h}from "./useQuery-CxabGwVz.js";import{c as f}from "./pointsAPI-Cz9Sup82.js";import{F as j,a as b}from "./index-DP0VIuDs.js";import{P as y}from "./PaginationComponent-CiWrhgCU.js";import{L as w}from "./pointsLoading-rils2R6B.js";import"./index-Druiat5n.js";import{B as N,F as v}from "./FloatingActionButtons-3zuONfQ9.js";import"./useBaseQuery-BTSvK_Q6.js";import"./removable-CGh8wCEh.js";import"./query-CjmfnAM3.js";import"./QueryClientProvider--V26__jT.js";import"./axiosInstance-CCaw23o5.js";import"./index-xsH4HHeE.js";import"./chevron-left-i71DKoJD.js";import"./createLucideIcon-Cyt6UY_L.js";import"./chevron-right-WLYf1NvF.js";function A({coupons:s,header:r}){return console.log(s),e.jsxs("div",{className:"max-w-3xl mx-auto bg-gray-50 py-6 px-3 sm:px-6 rounded-2xl shadow relative space-y-4",children:[r&&e.jsx("div",{className:"mb-5",children:r}),s.length===0?e.jsx("p",{className:"text-center text-gray-400 text-sm sm:text-base",children:"No coupons available."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 justify-items-center",children:s.map((t, n)=>e.jsxs("div",{className:"w-full sm:max-w-xs md:max-w-sm lg:max-w-md bg-white rounded-2xl shadow-md hover:shadow-xl transition duration-300 transform hover:-translate-y-1 p-3 flex flex-col items-center",children:[e.jsx("div",{className:"w-55 h-40 sm:h-40 rounded-lg overflow-hidden mb-3",children:e.jsx("img",{src:`https://myapp.peek-pick.click/points/${t.couponImg}`,alt:t.itemName,className:"w-full h-full object-cover rounded-lg"})}),e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-800 mb-1 text-center",children:t.itemName}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mb-0.5 text-center",children:["Expiry:"," ",e.jsx("span",{className:"text-red-500 font-medium",children:new Date(t.expiredAt).toLocaleDateString()})]}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 text-center",children:["Status:"," ",e.jsx("span",{className:"font-medium",children:u[t.status]})]})]},`${t.couponId??"unknown"}-${n}`))})]})}function L(){const[s,r]=l.useState(0),[t,n]=l.useState("ALL"),m=10,i="couponId,desc",{data:o,isLoading:c,isError:x}=h({queryKey:["coupons",s,m,i,t],queryFn:()=>f(s,m,i,t)});return c?e.jsx(w,{}):x||!o?"Error":e.jsxs(e.Fragment,{children:[e.jsx(A,{coupons:o.content,header:e.jsxs(e.Fragment,{children:[e.jsxs("h2",{className:"flex items-center gap-1 text-xl font-bold text-yellow-500 select-none leading-none pb-5",children:[e.jsx(j,{icon:b}),e.jsx("span",{className:"leading-none text-black ml-1.5",children:"My Coupons"})]}),e.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:["ALL","AVAILABLE","USED","EXPIRED"].map(a=>{const d={ALL:"All",AVAILABLE:"Available",USED:"Used",EXPIRED:"Expired"},p=t===a;return e.jsx("button",{onClick:()=>{n(a),r(0)},className:`flex items-center gap-1 rounded-md px-4 py-1 text-sm font-medium transition
                                    ${p?"bg-yellow-100 text-yellow-700 border border-yellow-300 hover:bg-yellow-200":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:d[a]},a)})})]})}),e.jsx(y,{currentPage:o.number,totalPages:o.totalPages,onPageChange:r,maxPageButtons:5}),e.jsx(N,{}),e.jsx(v,{})]})}const G=g(L);export{G as default};
