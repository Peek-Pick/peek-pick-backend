import{w as y}from "./with-props-JNWkkrjn.js";import{p as b,t as j}from "./chunk-D4RADZKF-DdSvw7tX.js";import{j as e}from "./jsx-runtime-D_zvdyIk.js";import{u as w}from "./useQuery-CxabGwVz.js";import{P as N}from "./PaginationComponent-CiWrhgCU.js";import{I as v}from "./inquiryLoading-DMYYepHY.js";import{B as q}from "./FloatingActionButtons-3zuONfQ9.js";import{u as P}from "./useTranslation-DnilsLqi.js";import{c as E}from "./createLucideIcon-Cyt6UY_L.js";import{C,H as I}from "./hourglass-BDOrxaAO.js";import{f as k}from "./inquiriesAPI-gt-yzMzF.js";import"./useBaseQuery-BTSvK_Q6.js";import"./removable-CGh8wCEh.js";import"./query-CjmfnAM3.js";import"./QueryClientProvider--V26__jT.js";import"./chevron-left-i71DKoJD.js";import"./chevron-right-WLYf1NvF.js";import"./index-Druiat5n.js";import"./i18nInstance-CHFDjdcJ.js";import"./axiosInstance-CCaw23o5.js";import"./index-xsH4HHeE.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],L=E("message-square",S);function D({items:o=[],isLoading:i,isError:r,currentPage:s,pageSize:l,totalCount:c}){const{t:n}=P(),a=b(),d=t=>{a(`/inquiries/${t}`)},p=()=>{a("/inquiries/add")};return i?e.jsx(v,{}):r?e.jsx("p",{className:"text-center p-4 text-red-500 text-base sm:text-lg",children:n("inquiry.loadFail")}):e.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-2xl shadow px-4 pt-4 pb-6 relative space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 mt-1.5",children:[e.jsxs("h2",{className:"flex items-center gap-1 text-xl font-bold text-yellow-600 select-none leading-none",children:[e.jsx(L,{className:"w-6 h-6 leading-none ml-1.5 mt-1.5"}),e.jsx("span",{className:"leading-none text-black ml-1.5",children:n("inquiry.listTitle")})]}),e.jsxs("button",{onClick:p,className:"px-4 py-2 rounded-md bg-yellow-500 hover:bg-yellow-600 text-white text-sm font-semibold shadow-sm border border-white transition",children:["+ ",n("inquiry.new")]})]}),o.length===0?e.jsx("div",{className:"py-20 text-center text-yellow-300 text-base select-none",children:n("inquiry.empty")}):e.jsx("ul",{className:"flex flex-col gap-5",children:o.map((t,u)=>{const h=n(`inquiry.types.${t.type}`,t.type),m=t.status==="ANSWERED",g=n(`inquiry.status.${m?"ANSWERED":"PENDING"}`),f=c-((s-1)*l+u);return e.jsxs("li",{onClick:()=>d(t.inquiryId),className:"flex gap-4 p-4 rounded-lg bg-white shadow-sm hover:shadow-md cursor-pointer border border-black/10 transition",children:[e.jsx("div",{className:"flex-shrink-0 w-8 flex items-center justify-center text-yellow-500 font-extrabold text-xl select-none",children:f}),e.jsxs("div",{className:"flex flex-col flex-grow",children:[e.jsxs("div",{className:"text-sm font-semibold text-yellow-500 mb-1 select-none",children:["[",h,"]"]}),t.content&&e.jsx("div",{className:"text-base text-black line-clamp-1 mb-4 select-text",children:t.content}),e.jsxs("div",{className:"flex justify-between items-center text-xs select-none",children:[e.jsxs("div",{children:[n("inquiry.postedOn"),": ",t.regDate.slice(0,10).replace(/-/g,".")]}),e.jsxs("div",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 font-semibold transition-colors ${m?"bg-yellow-400 hover:bg-yellow-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-500"}`,children:[m?e.jsx(C,{className:"w-4 h-4"}):e.jsx(I,{className:"w-4 h-4"}),g]})]})]})]},t.inquiryId)})}),e.jsx(q,{})]})}const x=5;function A(){const[o,i]=j(),r=Number(o.get("page")||"0"),{data:s,isLoading:l,isError:c}=w({queryKey:["inquiries",r],queryFn:()=>k({page:r,size:x})}),n=a=>{i({page:String(a)})};return e.jsxs("div",{children:[e.jsx(D,{items:s==null?void 0:s.content,isLoading:l,isError:c,currentPage:r+1,pageSize:x,totalCount:s==null?void 0:s.totalElements}),e.jsx(N,{currentPage:r,totalPages:s==null?void 0:s.totalPages,onPageChange:n,maxPageButtons:5})]})}const se=y(A);export{se as default};
