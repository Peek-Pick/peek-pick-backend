import{w as u}from "./with-props-JNWkkrjn.js";import{p,a as s}from "./chunk-D4RADZKF-DdSvw7tX.js";import{j as e}from "./jsx-runtime-D_zvdyIk.js";import{u as c}from "./useMutation-iBKtBQ4J.js";import{P as l}from "./formComponent-qR9YGr4b.js";import{c as x}from "./adminProductsAPI-U5v2Fkh_.js";import"./index-Druiat5n.js";import"./mutation-CruqbX-z.js";import"./removable-CGh8wCEh.js";import"./QueryClientProvider--V26__jT.js";import"./index-DP0VIuDs.js";import"./axiosInstance-CCaw23o5.js";import"./index-xsH4HHeE.js";const E=u(function(){const o=p(),[r,m]=s.useState(null),[a,n]=s.useState("이미지 필수"),i=c({mutationFn: t=>x(t,r??void 0),onSuccess: t=>{o(`/admin/products/${t.productId}`)},onError: t=>{alert("등록 중 오류 발생: "+t.message)}}),d= t=>{if(!r){alert("이미지를 반드시 첨부해야 합니다.");return}i.mutate(t)};return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 max-w-4xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-bold mb-6 border-b pb-2",children:"새 상품 등록"}),e.jsx(l,{onSubmit:d,onFileChange: t=>{m(t),n((t==null?void 0:t.name)??"이미지 필수")},fileLabel:a}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>o(-1),className:"flex items-center gap-1 rounded-md px-4 py-2 text-sm font-medium shadow-sm transition bg-gray-200 hover:bg-gray-300",children:"취소"}),e.jsx("button",{type:"button",onClick:()=>{const t=document.querySelector("form");t&&t.requestSubmit()},className:"flex items-center gap-1 rounded-md px-4 py-2 text-sm font-medium shadow-sm transition bg-purple-600 text-white hover:bg-purple-700",children:"등록"})]})]})});export{E as default};
