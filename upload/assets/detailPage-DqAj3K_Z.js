import{w as u}from "./with-props-JNWkkrjn.js";import{q as c,w as f,a as o}from "./chunk-D4RADZKF-DdSvw7tX.js";import{j as e}from "./jsx-runtime-D_zvdyIk.js";import{a as g}from "./adminNoticesAPI-BoOoJ07k.js";import{L as b}from "./loadingComponent-BmsJ8g5Y.js";import"./axiosInstance-CCaw23o5.js";import"./index-xsH4HHeE.js";import"./index-Druiat5n.js";const y="https://myapp.peek-pick.click/api/v1",j=y.replace("https://myapp.peek-pick.click/api/v1","https://myapp.peek-pick.click").replace("https://myapp.peek-pick.click/api/v1","https://myapp.peek-pick.click");function w({notice:t,isLoading:a,error:r}){const m=new Date(t==null?void 0:t.regDate).toLocaleString(),p=[{label:"제목",value:t==null?void 0:t.title,isContent:!1},{label:"DATE",value:m,isContent:!1},{label:"내용",value:t==null?void 0:t.content,isContent:!0}];return a?e.jsx(b,{isLoading:!0}):r?e.jsx("p",{className:"p-6 text-red-500",children:r}):t?e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-bold mb-6 border-b pb-2",children:"공지사항"}),e.jsx("div",{className:"flex flex-col gap-6 mb-6 w-full",children:p.map(({label:l,value:i,isContent:n}, d)=>e.jsxs("div",{className:"bg-white rounded-lg p-5 shadow-sm border border-gray-100 w-full",style:{boxShadow:"0 1px 4px rgba(0,0,0,0.08)"},children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-400 mb-2 uppercase tracking-wide",children:l}),n?e.jsxs("div",{className:"space-y-4",children:[Array.isArray(t.imgUrls)&&t.imgUrls.filter(s=>typeof s=="string"&&s.trim()!=="").map(s=>{const x=s.startsWith("http")?s:`${j}${s}`;return e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:x,alt:"공지 이미지",className:"max-w-full h-auto rounded",style:{maxWidth:"80%"},onError: h=>{h.currentTarget.src=""}})},s)}),e.jsx("p",{className:"text-gray-900 whitespace-pre-line leading-relaxed",style:{fontSize:"0.9rem"},children:i})]}):e.jsx("p",{className:"text-gray-900 font-medium",children:i})]},d))}),e.jsxs("div",{className:"mt-8 flex gap-3 justify-end",children:[e.jsx(c,{to:`/admin/notices/${t.noticeId}/edit`,className:"flex items-center gap-1 rounded-md border border-blue-600 bg-white px-4 py-2 text-sm font-medium text-blue-600 shadow-sm hover:bg-blue-100 hover:text-blue-800 transition",children:"수정"}),e.jsx(c,{to:"/admin/notices/list",className:"flex items-center gap-1 rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-100 hover:text-gray-800 transition",children:"목록으로"})]})]}):e.jsx("p",{className:"p-6",children:"공지 정보 불러오기 실패"})}const A=u(function(){const{id:a}=f(),[r,m]=o.useState(null),[p,l]=o.useState(!1),[i,n]=o.useState(null);return o.useEffect(()=>{a&&(l(!0),n(null),g(Number(a)).then(d=>{m(d)}).catch(()=>{n("공지사항 정보를 불러오는 중 오류가 발생했습니다.")}).finally(()=>{l(!1)}))},[a]),e.jsx("div",{className:"bg-white shadow-md rounded-lg p-6 text-gray-800 max-w-4xl mx-auto",children:e.jsx(w,{notice:r,isLoading:p,error:i})})});export{A as default};
