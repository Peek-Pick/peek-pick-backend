import{w as c}from "./with-props-JNWkkrjn.js";import{p as u,a as d}from "./chunk-D4RADZKF-DdSvw7tX.js";import{j as e}from "./jsx-runtime-D_zvdyIk.js";import{u as p}from "./QueryClientProvider--V26__jT.js";import{u as f}from "./useMutation-iBKtBQ4J.js";import{N as x}from "./formComponent-fX_i-ljW.js";import{c as g,u as b}from "./adminNoticesAPI-BoOoJ07k.js";import"./sweetalert2.esm.all-9Qm2jZ7z.js";/* empty css                   */import"./mutation-CruqbX-z.js";import"./removable-CGh8wCEh.js";import"./index-DP0VIuDs.js";import"./axiosInstance-CCaw23o5.js";import"./index-xsH4HHeE.js";const D=c(function(){const o=u(),[n,a]=d.useState(null),s=p(),r=f({mutationFn: t=>g(t).then(i=>i.data),onSuccess:async t=>{await s.invalidateQueries({queryKey:["admin-notices"],exact:!1}),alert("공지 등록이 완료되었습니다."),n&&t.noticeId?b(t.noticeId,n).finally(()=>o("/admin/notices/list")):o("/admin/notices/list")},onError: t=>{console.error(t),alert("공지 등록에 실패했습니다.")}}),m=(t, i)=>{window.confirm("이 공지를 등록하시겠습니까?")&&(a(i??null),r.mutate(t))},l=()=>o("/admin/notices/list");return e.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"새 공지 작성"}),e.jsx(x,{initialData:null,submitLabel:"등록",onSubmit:m,extraActions:e.jsx("button",{type:"button",onClick:l,className:"flex items-center gap-1 rounded-md px-4 py-2 text-sm font-medium shadow-sm transition bg-gray-200 hover:bg-gray-300",children:"취소"})})]})});export{D as default};
