import{w as L}from "./with-props-JNWkkrjn.js";import{a as n,p as C,q as S}from "./chunk-D4RADZKF-DdSvw7tX.js";import{j as e}from "./jsx-runtime-D_zvdyIk.js";import{g as F}from "./axiosInstance-CCaw23o5.js";import{a as P,F as B}from "./index-DJdx2QAc.js";import{L as E,g as T}from "./googleAPI-CBAUxJgX.js";import{u as G}from "./AdminAuthContext-Tt93VsTJ.js";import{S as p}from "./sweetalert2.esm.all-9Qm2jZ7z.js";/* empty css                   */import{u as M}from "./QueryClientProvider--V26__jT.js";import{i as b}from "./i18next-Bhc83OLH.js";import{u as q}from "./useTranslation-DnilsLqi.js";import"./index-xsH4HHeE.js";import"./iconBase-CtWej6xm.js";import"./index-Druiat5n.js";import"./i18nInstance-CHFDjdcJ.js";const U=()=>{const{t:o}=q(),[r,c]=n.useState(!1),[m,h]=n.useState(b.language||"en"),[t,f]=n.useState(!1),[d,w]=n.useState(""),[u,y]=n.useState(""),[i,g]=n.useState(!1),x=C(),j=M(),{logout:v}=G();n.useEffect(()=>{f(!0)},[]);const l= s=>{b.changeLanguage(s),h(s),c(!1)},N=async s=>{s.preventDefault(),g(!0);try{await Promise.all([F(d,u),new Promise(a=>setTimeout(a,1500))]),v(),j.clear(),x("/main")}catch(a){if(console.error(a),(a==null?void 0:a.type)==="banned"&&a.banUntil){await p.fire({icon:"warning",title:t?o("bannedTitle"):"Banned",html:t?o("bannedMessage",{date:a.banUntil}):`Banned until ${a.banUntil}`,confirmButtonText:t?o("confirm"):"Confirm",customClass:{popup:"custom-popup",title:"custom-title",actions:"custom-actions",confirmButton:"custom-confirm-button"}}),x("/main");return}await p.fire({title:t?o("loginFailTitle"):"Login Failed",icon:"error",confirmButtonText:t?o("confirm"):"Confirm",customClass:{popup:"custom-popup",title:"custom-title",actions:"custom-actions",confirmButton:"custom-confirm-button"}})}},k=()=>{g(!0),setTimeout(()=>{const s=T();window.location.href=s},1500)};return i?e.jsx(E,{}):e.jsxs("div",{className:"max-w-2xl mx-auto shadow-xl relative rounded-[20px] flex flex-col items-center justify-start",style:{fontFamily:"'Quicksand', sans-serif"},children:[e.jsxs("div",{className:"absolute top-5 right-5 z-20",children:[e.jsxs("button",{onClick:()=>c(!r),className:"flex items-center gap-2 px-3 py-1.5 bg-white bg-opacity-80 backdrop-blur-md rounded-full border shadow hover:shadow-md transition-all duration-200",children:[e.jsx(P,{className:"text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:t?m==="en"?"English":m==="ko"?"한국어":"日本語":"English"})]}),r&&e.jsxs("div",{className:"mt-2 absolute right-0 bg-white border rounded-lg shadow-md w-32",children:[e.jsx("button",{onClick:()=>l("en"),className:"block w-full px-4 py-2 text-sm hover:bg-gray-100 text-left",children:"English"}),e.jsx("button",{onClick:()=>l("ko"),className:"block w-full px-4 py-2 text-sm hover:bg-gray-100 text-left",children:"한국어"}),e.jsx("button",{onClick:()=>l("ja"),className:"block w-full px-4 py-2 text-sm hover:bg-gray-100 text-left",children:"日本語"})]})]}),e.jsxs("div",{className:"absolute top-20 w-[90%] max-w-xl bg-white/70 backdrop-blur-[40px] border-2 border-white/80 rounded-2xl shadow-xl p-8 z-10",children:[t&&e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-xl font-semibold tracking-wide text-center text-gray-500 mb leading-snug",children:o("loginWelcome1")}),e.jsx("h1",{className:"text-3xl font-semibold tracking-wide text-center text-yellow-500 mb-8 leading-snug",children:"Peek&Pick"})]}),e.jsxs("form",{onSubmit:N,className:"space-y-6 text-gray-800 pb-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold mb-2",children:t?o("loginFormEmail"):"Email"}),e.jsx("input",{id:"email",type:"email",value:d,onChange: s=>w(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 text-sm",placeholder:"you@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold mb-2",children:t?o("loginFormPassword"):"Password"}),e.jsx("input",{id:"password",type:"password",value:u,onChange: s=>y(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 text-sm",placeholder:"••••",required:!0})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-yellow-400 hover:bg-yellow-500 active:bg-yellow-300 text-white py-3 rounded-md shadow-md transition duration-300 ease-in-out text-base font-bold tracking-wide disabled:opacity-50",children:t?o("loginButton"):"Log In"})]}),e.jsxs("div",{className:"text-center text-sm mt-4",children:[t?o("signupGuid"):"Don't have an account?",e.jsx(S,{to:"/signup",className:"text-yellow-500 font-bold ml-1",children:t?o("signupButton"):"Sign Up"})]}),e.jsx("hr",{className:"border-t border-dashed border-gray-300 my-6"}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:k,disabled:i,className:`w-full flex items-center justify-center gap-3 px-4 py-3 rounded-lg border-2 text-sm font-medium transition
                            ${i?"bg-gray-100 text-gray-400 border-gray-300 cursor-not-allowed":"bg-white text-gray-500 border-gray-400 active:border-yellow-400 active:text-yellow-500"}`,children:[e.jsx(B,{className:"w-5 h-5"}),t?o("loginWithGoogle"):"Login with Google"]})})]})]})};function z(){return e.jsx("div",{children:e.jsx(U,{})})}const ee=L(z);export{ee as default};
